# EventCalendar - Улучшенный календарь событий

## Описание

Компонент EventCalendar представляет собой улучшенную версию календаря для отображения событий резервирований с расширенным функционалом.

## Новые возможности

### 1. Счетчик событий
- Над каждым днем, в котором есть события, отображается красный счетчик с количеством событий (как у уведомлений)
- Счетчик имеет анимацию появления и стилизован в стиле notification badge

### 2. Улучшенная визуализация дат
- Даты прошлого месяца отображаются серым цветом для лучшей читаемости
- Текущий день выделен синей рамкой
- Выбранный диапазон дат подсвечивается синим цветом

### 3. Правильные статусы резервирований
Компонент корректно обрабатывает все статусы резервирований:
- **Обрабатывается** - синий цвет, иконка часов
- **Одобрена** - зеленый цвет, иконка галочки
- **Выдана** - темно-синий цвет, иконка галочки
- **Возвращена** - темно-зеленый цвет, иконка галочки
- **Отменена** - красный цвет, иконка крестика
- **Истекла** - оранжевый цвет, иконка предупреждения
- **Просрочена** - темно-красный цвет, иконка крестика
- **Отменена_пользователем** - серый цвет, иконка крестика

### 4. Быстрая отчетность
- Быстрые диапазоны дат (сегодня, вчера, последние 7 дней, месяц и т.д.)
- Детальная статистика событий за выбранный период
- Аналитика по статусам, популярным книгам и активным пользователям
- График активности по дням

### 5. Ближайшие события
- Отображение 3 ближайших событий
- Прокрутка при большом количестве событий
- Клик для перехода к деталям резервирования

## Использование

```tsx
import EventCalendar from '@/components/admin/EventCalendar';

<EventCalendar
  events={reservationEvents}
  selectedRange={selectedRange}
  onRangeChange={setSelectedRange}
  showStatsModal={showStatsModal}
  onToggleStatsModal={() => setShowStatsModal(!showStatsModal)}
  quickRanges={quickRanges}
/>
```

## Свойства

- `events`: массив событий резервирований
- `selectedRange`: выбранный диапазон дат
- `onRangeChange`: функция для изменения диапазона дат
- `showStatsModal`: показывать ли модальное окно статистики
- `onToggleStatsModal`: функция переключения модального окна
- `quickRanges`: массив быстрых диапазонов дат

## Интеграция со статистикой

Компонент интегрирован с EventStatistics для отображения детальной аналитики:

- Общая статистика (всего событий, уникальные книги, пользователи)
- Распределение по статусам с цветовой индикацией
- Топ-5 популярных книг
- Топ-5 активных пользователей  
- График активности по дням с анимированными барами

## Технические особенности

- Полная типизация TypeScript
- Анимации с framer-motion
- Responsive дизайн
- Оптимизация с useMemo и useCallback
- Поддержка темной темы (готовность)
- Accessibility-friendly

## Стилизация

Компонент следует дизайн-системе проекта:
- Синяя цветовая схема
- Скругленные углы (rounded-xl)
- Тени и градиенты
- Консистентные отступы и размеры 