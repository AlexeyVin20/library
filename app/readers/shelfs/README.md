# Страница просмотра полок для читателей

## Описание

Эта страница позволяет пользователям с определенными ролями просматривать расположение книг на полках библиотеки. Страница отображает только те книги, которые пользователь зарезервировал или взял в библиотеке.

## Доступ

Страница доступна только для пользователей со следующими ролями:
- **Admin** / **Админ**
- **Librarian** / **Библиотекарь**
- **Employee** / **Сотрудник**

## Функциональность

### Основные возможности:
1. **Просмотр полок** - визуальное отображение полок библиотеки
2. **Поиск книг** - поиск среди доступных пользователю книг
3. **Информация о книге** - детальная информация о выбранной книге
4. **Расположение** - показывает точное местоположение книги на полке

### Ограничения для читателей:
- Отображаются только книги, которые пользователь зарезервировал или взял
- Нет возможности редактировать расположение книг
- Нет возможности добавлять/удалять книги с полок
- Режим "только для чтения"

## Технические детали

### Компоненты:
- `ReaderShelfsPage` - главный компонент страницы
- `ShelfCanvas` - компонент для отображения полок (с поддержкой `isReaderMode`)
- `BookInfoModal` - модальное окно с информацией о книге (с поддержкой `isReaderMode`)

### Хуки:
- `useUserRoles` - для проверки ролей пользователя
- `useAuth` - для получения данных пользователя

### Файлы:
- `app/readers/shelfs/page.tsx` - основная страница
- `hooks/use-user-roles.ts` - хук для проверки ролей
- `components/reader-navigation.tsx` - обновленная навигация с новым пунктом "Полки"

## Навигация

Страница доступна через меню навигации читателей:
- Главная → Полки
- Прямая ссылка: `/readers/shelfs`

## Логика фильтрации

Система показывает книги только если:
1. У пользователя есть активное резервирование со статусом: `активна`, `подтверждена`, `одобрена`, `выдана`
2. Пользователь взял книгу в библиотеке (есть в `borrowedBooks`)

## Обозначения

- **Зеленый** - ваша книга
- **Синий** - ваш журнал  
- **Желтый (мигающий)** - найденная книга
- **Серый** - недоступно

## Безопасность

- Проверка ролей на уровне компонента
- Автоматическое перенаправление при отсутствии доступа
- Фильтрация данных на уровне клиента
- Токен авторизации для всех API-запросов 